(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function p(e,n){const t=document.createElement("input");if(t.type="text",t.placeholder="Buscar imágenes...",e)e.appendChild(t);else{console.error("El contenedor para la barra de búsqueda no fue encontrado.");return}t.addEventListener("keypress",o=>{if(o.key==="Enter"){const r=t.value.trim();r!==""&&(n(r),t.value="")}})}function f(e){const n=new Date(e),t={day:"2-digit",month:"2-digit",year:"numeric"};return n.toLocaleDateString("es-ES",t)}function g(e,n){const t=document.createElement("div");t.className="user-info";const o=document.createElement("div");o.textContent=e.name,o.className="user-name";const r=document.createElement("div");r.className="upload-date",r.textContent=f(n);const a=document.createElement("div");a.className="user-details";const s=document.createElement("img");return s.className="user-img",s.src=e.profile_image.medium,s.alt=e.name,a.appendChild(o),a.appendChild(r),t.appendChild(a),t.appendChild(s),t}const h=()=>{const e=document.createElement("button");return e.className="visit-button",e.textContent="Visit",e},E=()=>{const e=document.createElement("button");return e.className="share-button",e},v=e=>{const n=document.createElement("div");return n.className="likes-badge",n.textContent=(e||0).toLocaleString(),n};function y(e){const n=document.createElement("div");n.className="image-card",n.setAttribute("data-id",e.id);const t=document.createElement("div");t.className="image-wrapper";const o=document.createElement("img");o.src=e.urls.regular,o.alt=e.alt_description||"Imagen";const r=document.createElement("div");r.className="card-overlay";const a=h(),s=E(),u=v(e.likes),m=g(e.user,e.created_at);return t.appendChild(o),t.appendChild(a),t.appendChild(u),t.appendChild(r),t.appendChild(m),t.appendChild(s),n.appendChild(t),n}function C(e){e.id||(e.id="images-grid")}function N(e,n){n.innerHTML="",e.forEach(t=>{const o=y(t);n.appendChild(o)})}const L="B_Ukv4lFJW218-YHsgvKrzroupvOIs_MxZZwoqYG_pg",b="https://api.unsplash.com/search/photos",d=document.getElementById("search-container"),c=document.getElementById("images-grid"),l=document.getElementById("logo");async function i(e="nature"){try{const n=e?e.trim():"nature";c.innerHTML='<div class="loading">Cargando imágenes...</div>';const t=await fetch(`${b}?query=${n}&client_id=${L}&per_page=20`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const o=await t.json();N(o.results,c)}catch(n){console.error("Error fetching images:",n),c.innerHTML='<div class="loading" style="color: #e60023;">Error: No se pudieron cargar las imágenes. Por favor, revisa tu clave API y conexión.</div>'}}l&&l.addEventListener("click",()=>{i("nature")});d&&p(d,i);c&&C(c);i("nature");
